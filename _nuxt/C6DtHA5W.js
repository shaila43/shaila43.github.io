import{_ as S}from"./ijs-FELi.js";import{_ as $,n as P,p as j,g as B,o as i,w as h,c as r,q as T,s as H,a as t,v as I,t as f,x as U,T as N,j as m,y as V,z as q,b as w,m as y,l as o,F as A,r as O,d as k}from"#entry";import{g as z,_ as D}from"./xnfCxk1q.js";const F={class:"flex items-center justify-between mb-4"},W={class:"text-lg font-semibold"},R={class:"mt-2 space-y-5"},X={__name:"BaseModal",props:{isOpen:{type:Boolean,default:!1},class:{type:String,default:"max-w-md"},title:{type:String,default:""}},emits:["onClose"],setup(v,{emit:c}){const n=v,p=c,u=a=>{typeof document>"u"||(a?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"))};return P(()=>n.isOpen,a=>u(a),{immediate:!0}),j(()=>u(!1)),(a,l)=>(i(),B(N,{name:"fade"},{default:h(()=>[v.isOpen?(i(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:l[1]||(l[1]=H(x=>p("onClose"),["self"]))},[t("div",{class:I(["bg-white shadow-lg w-full p-6 relative rounded-md",v.class])},[t("div",F,[t("h4",W,f(v.title),1),t("button",{class:"text-2xl text-gray-700 hover:text-gray-900 flex self-start","aria-label":"Close modal",onClick:l[0]||(l[0]=x=>p("onClose"))},[...l[2]||(l[2]=[t("span",{class:"material-icons-outlined"},"close",-1)])])]),t("div",R,[U(a.$slots,"default",{},void 0,!0)])],2)])):T("",!0)]),_:3}))}},G=$(X,[["__scopeId","data-v-8ab4d5df"]]),J={class:"max-w-3xl mx-auto"},K={class:"space-y-4 md:space-y-6"},Q={class:"relative text-sm"},Y={key:0,class:"material-icons-outlined"},Z={key:1,class:"material-icons-outlined"},ee=["innerHTML"],te={class:"relative text-sm"},se={key:0,class:"material-icons-outlined"},oe={key:1,class:"material-icons-outlined"},ne=["innerHTML"],ie={class:"space-y-4 md:space-y-6"},le={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},re=["aria-label","onClick"],ae=["src"],de={key:0,class:"text-center"},ce={class:"max-w-3xl mx-auto mt-12"},pe=["src"],ue={class:"text-2xl font-medium text-center"},me={class:"grid grid-cols-[50px_1fr] gap-x-4 gap-y-2 text-sm md:text-base"},ve={class:"text-gray-600"},fe={class:"text-gray-600"},_=`import { ref, onMounted, onUnmounted } from 'vue';

const providers = ref([]);

const eip6963Handler = (event) => {
  const provider = event.detail;
  if (
    provider &&
    !providers.value.find((p) => p.info.uuid === provider.info.uuid)
  ) {
    providers.value.push(provider);
  }
};

onMounted(() => {
  window.addEventListener("eip6963:announceProvider", eip6963Handler);
  window.dispatchEvent(new Event("eip6963:requestProvider"));
});

onUnmounted(() => {
  window.removeEventListener("eip6963:announceProvider", eip6963Handler);
});
`,C=`<template>
  <div
    v-for="provider in providers"
    :key="provider.info.name"
  >
    <img :src="provider.info.icon" />
    {{ provider.info.name }}
  </div>
</template>`,we={__name:"how-to-implement-multi-injected-provider-discovery-eip-6963",setup(v){const c=m([]),n=m(null),p=m(!1),u=m(!1),a=m(""),l=m(""),x=(s,e)=>{navigator.clipboard.writeText(s).then(()=>{e==="script"&&(p.value=!0),e==="template"&&(u.value=!0),setTimeout(()=>{e==="script"&&(p.value=!1),e==="template"&&(u.value=!1)},2e3)})},E=s=>n.value=s,L=()=>window.scrollTo({top:0,behavior:"smooth"}),b=s=>{const e=s.detail;e&&!c.value.find(g=>g.info.uuid===e.info.uuid)&&c.value.push(e)};return P(n,s=>document.body.style=s?"overflow: hidden":""),V(async()=>{window.addEventListener("eip6963:announceProvider",b),window.dispatchEvent(new Event("eip6963:requestProvider"));const s=await z();a.value=s.highlight(_,{lang:"js"}),l.value=s.highlight(C,{lang:"vue"})}),q(()=>{window.removeEventListener("eip6963:announceProvider",b)}),(s,e)=>{const g=S,M=G;return i(),r("div",null,[t("article",J,[e[10]||(e[10]=t("img",{src:D,class:"w-full aspect-16/9 mx-auto"},null,-1)),e[11]||(e[11]=t("h2",{class:"text-2xl md:text-3xl lg:text-4xl my-5 md:my-8 lg:my-10 font-bold text-neutral-800"}," How to implement Multi Injected Provider Discovery | EIP-6963 ",-1)),t("div",K,[e[6]||(e[6]=y('<p class="text-lg/relaxed text-neutral-700"><a class="font-semibold text-pink hover:text-dark-blue transition-all duration-300 underline decoration-pink hover:decoration-dark-blue" href="https://eips.ethereum.org/EIPS/eip-6963" target="_blank" rel="noopener noreferrer">EIP-6963</a> is an Ethereum Improvement Proposal that defines a <strong class="font-semibold text-neutral-800">standard interface for Ethereum provider detection in browsers</strong>. This solves a common problem: dApps often cannot reliably detect which wallets a user has installed, which can lead to inconsistent UX or failed connections. It allows dApps to discover which wallet providers (like MetaMask, Coinbase Wallet, or others) are available on a user’s browser without relying on custom scripts. </p><p class="text-lg/relaxed text-neutral-700"> Here’s why adopting EIP-6963 improves your dApp experience: </p><ul class="text-lg/relaxed text-neutral-700 list-disc ml-10 space-y-3 marker:text-gray-300"><li><strong class="font-semibold text-neutral-800">dApps</strong> can automatically show a list of providers a user has installed </li><li> makes <strong class="font-semibold text-neutral-800">wallet detection</strong> more consistent and secure </li><li> avoids relying on <strong class="font-semibold text-neutral-800">window.ethereum</strong> heuristics, which may be unreliable </li><li> ensures <strong class="font-semibold text-neutral-800">future compatibility</strong> as new wallet providers adopt the standard. </li></ul><p class="text-lg/relaxed text-neutral-700"> Let&#39;s look at a simple example in Vue.js. </p>',4)),t("div",Q,[t("button",{class:"absolute right-2 top-2 bg-gray-600 text-white px-2 rounded-md cursor-pointer py-2 flex items-center justify-center h-10 w-10",onClick:e[0]||(e[0]=d=>x(_,"script")),"aria-label":"Copy code snippet to clipboard"},[o(p)?(i(),r("span",Y,"check")):(i(),r("span",Z,"content_copy"))]),t("div",{innerHTML:o(a),class:"p-4 bg-[#272822] rounded-md overflow-auto"},null,8,ee)]),e[7]||(e[7]=y('<p class="text-lg/relaxed text-neutral-700"> The method relies on two events: </p><ul class="text-lg/relaxed text-neutral-700 list-disc ml-10 space-y-3 marker:text-gray-300"><li><strong class="font-semibold text-neutral-800">eip6963:announceProvider</strong> - emitted by a provider when it becomes available </li><li><strong class="font-semibold text-neutral-800">eip6963:requestProvider</strong> - sent to request all available providers to announce themselves. </li></ul><p class="text-lg/relaxed text-neutral-700"> With the list of providers collected, the app can display them for selection or allow login via the chosen provider. </p>',3)),t("div",te,[t("button",{class:"absolute right-2 top-2 bg-gray-600 text-white px-2 rounded-md cursor-pointer py-2 flex items-center justify-center h-10 w-10",onClick:e[1]||(e[1]=d=>x(C,"template")),"aria-label":"Copy code snippet to clipboard"},[o(u)?(i(),r("span",se,"check")):(i(),r("span",oe,"content_copy"))]),t("div",{innerHTML:o(l),class:"p-4 bg-[#272822] rounded-md overflow-auto"},null,8,ne)]),e[8]||(e[8]=t("p",{class:"text-lg/relaxed text-neutral-700"},"Useful links:",-1)),e[9]||(e[9]=t("ul",{class:"text-lg/relaxed text-neutral-700 list-disc ml-10 space-y-3 marker:text-gray-300"},[t("li",null,[t("a",{href:"https://eips.ethereum.org/EIPS/eip-6963",target:"_blank",rel:"noopener noreferrer",class:"text-pink hover:text-dark-blue transition-all duration-300 underline decoration-pink hover:decoration-dark-blue"},"EIP-6963 specification")])],-1)),t("div",ie,[e[3]||(e[3]=t("div",{class:"my-8 h-0.5 bg-gradient-to-r from-pink to-dark-blue"},null,-1)),e[4]||(e[4]=t("p",{class:"text-lg/relaxed text-neutral-700 font-semibold"}," Live demo ",-1)),e[5]||(e[5]=t("p",{class:"text-lg/relaxed text-neutral-700"}," Detected providers appear below. Click one to select it and update the app state. ",-1)),t("div",le,[(i(!0),r(A,null,O(o(c),d=>(i(),r("button",{key:d.info.name,class:"flex items-center justify-center border border-black w-full p-2 cursor-pointer","aria-label":`Select ${d.info.name} wallet`,onClick:xe=>E(d)},[t("img",{src:d.info.icon,class:"h-8 mr-2"},null,8,ae),k(" "+f(d.info.name),1)],8,re))),128))]),o(c).length===0?(i(),r("p",de," No providers detected. Consider guiding the user to install a compatible wallet to start interacting with the dApp. ")):T("",!0)])])]),t("nav",ce,[w(g,{to:"/",class:"inline-block text-white py-2 px-4 bg-gradient-brand text-center shadow"},{default:h(()=>[...e[12]||(e[12]=[k(" Back to list ",-1)])]),_:1}),t("button",{onClick:L,class:"fixed right-4 bottom-4 w-12 h-12 rounded-full bg-gradient-brand text-white flex items-center justify-center shadow-lg z-50 cursor-pointer","aria-label":"Back to top"},[...e[13]||(e[13]=[t("span",{class:"material-icons-outlined"},"expand_less",-1)])])]),w(M,{"is-open":o(n)!==null,onOnClose:e[2]||(e[2]=d=>n.value=null),title:"Provider details"},{default:h(()=>[t("img",{src:o(n).info.icon,class:"h-24 w-24 p-1 mx-auto"},null,8,pe),t("p",ue,f(o(n).info.name),1),t("div",me,[e[14]||(e[14]=t("div",{class:"font-semibold text-gray-600"},"Rdns:",-1)),t("div",ve,f(o(n).info.rdns),1),e[15]||(e[15]=t("div",{class:"font-semibold text-gray-600"},"Uuid:",-1)),t("div",fe,f(o(n).info.uuid),1)])]),_:1},8,["is-open"])])}}};export{we as default};
